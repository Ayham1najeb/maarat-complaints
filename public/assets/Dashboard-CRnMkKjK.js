import{c as w,a as W,u as Z,r as c,C as O,U as $,j as e,X as H,M as J,l as Q,s as z,z as g,m as C,L as ee,n as L,b as se,k as F,B as te,p as U}from"./index-CjzJ5_BZ.js";import{F as k,T as R}from"./trending-up-CY276X1w.js";import{C as E}from"./clock-Ddgo2pjq.js";import{C as V}from"./circle-alert-DjZ3vjDX.js";import{C as M}from"./circle-check-big-DGeQjnvz.js";import{U as ae,S as le,T as re}from"./UserManagement-B3v3CGdm.js";import{F as ne}from"./funnel-O3KbHqlU.js";import{S as ie}from"./search-apXdTJ5w.js";import{T as oe}from"./tag-BGqA7p6D.js";import{C as G}from"./calendar-B7a9FN4n.js";import{E as D}from"./eye-DHaPp3OH.js";import{M as T}from"./map-pin-CtIGBM8t.js";import{S as de}from"./save-DwGeXWnj.js";import"./user-plus-D-5nnLba.js";import"./mail-BfCiDVs-.js";import"./phone-SvgdTIei.js";const ce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],P=w("activity",ce);const xe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],q=w("award",xe);const me=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],he=w("chevron-left",me);const ue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ge=w("image",ue);const pe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],B=w("play",pe);const be=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K=w("settings",be);const fe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],je=w("square-check-big",fe),ye=({activeSection:t,setActiveSection:f})=>{const{user:m,logout:h}=W(),d=Z(),[i,r]=c.useState(!1),N=async()=>{await h(),d("/")},j=[...m?.role==="admin"?[{id:"statistics",label:"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",icon:O}]:[],...m?.role==="admin"?[{id:"users",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",icon:$}]:[],{id:"complaints",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰",icon:k},{id:"settings",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:K}],a=l=>{f(l),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(!i),className:"lg:hidden fixed top-4 right-4 z-50 p-3 bg-slate-900 text-white rounded-xl shadow-lg",children:i?e.jsx(H,{className:"w-6 h-6"}):e.jsx(J,{className:"w-6 h-6"})}),i&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>r(!1)}),e.jsxs("div",{className:`
        fixed right-0 top-0 h-screen bg-gradient-to-b from-slate-900 to-slate-800 text-white shadow-2xl z-50 flex flex-col
        transition-transform duration-300 ease-in-out
        w-80 lg:w-80
        ${i?"translate-x-0":"translate-x-full lg:translate-x-0"}
      `,children:[e.jsx("div",{className:"p-6 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-2xl font-bold shadow-lg",children:m?.name?.charAt(0)||"A"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg truncate",children:m?.name}),e.jsx("p",{className:"text-sm text-slate-300 flex items-center gap-1",children:m?.role==="admin"?"ğŸ‘‘ Ù…Ø¯ÙŠØ±":m?.role==="employee"?"ğŸ‘¨â€ğŸ’¼ Ù…ÙˆØ¸Ù":"ğŸ‘¤ Ù…ÙˆØ§Ø·Ù†"})]})]})}),e.jsx("nav",{className:"flex-1 py-6 overflow-y-auto",children:e.jsx("div",{className:"space-y-2 px-4",children:j.map(l=>{const o=l.icon,x=t===l.id;return e.jsxs("button",{onClick:()=>a(l.id),className:`w-full flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 group ${x?"bg-blue-600 shadow-lg shadow-blue-600/50 border-r-4 border-blue-400":"hover:bg-slate-700/50 hover:translate-x-[-4px]"}`,children:[e.jsx(o,{className:`w-6 h-6 ${x?"text-white":"text-slate-400 group-hover:text-white"}`}),e.jsx("span",{className:`font-semibold ${x?"text-white":"text-slate-300 group-hover:text-white"}`,children:l.label}),x&&e.jsx(he,{className:"w-5 h-5 mr-auto animate-pulse"})]},l.id)})})}),e.jsx("div",{className:"p-4 border-t border-slate-700",children:e.jsxs("button",{onClick:N,className:"w-full flex items-center gap-4 px-4 py-3 rounded-xl bg-red-600/20 hover:bg-red-600 transition-all duration-300 group",children:[e.jsx(Q,{className:"w-6 h-6 text-red-400 group-hover:text-white"}),e.jsx("span",{className:"font-semibold text-red-400 group-hover:text-white",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"})]})}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-l from-blue-500 via-purple-500 to-pink-500"})]})]})},Y=()=>{const[t,f]=c.useState(null),[m,h]=c.useState(!0);c.useEffect(()=>{d()},[]);const d=async()=>{try{const a=await z.overview();f(a.data.data)}catch{g.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª")}finally{h(!1)}},i=({percentage:a,color:l,size:o=120,strokeWidth:x=8})=>{const b=(o-x)/2,n=b*2*Math.PI,u=n-a/100*n;return e.jsxs("div",{className:"relative",style:{width:o,height:o},children:[e.jsxs("svg",{width:o,height:o,className:"transform -rotate-90",children:[e.jsx("circle",{cx:o/2,cy:o/2,r:b,stroke:"#e5e7eb",strokeWidth:x,fill:"none"}),e.jsx("circle",{cx:o/2,cy:o/2,r:b,stroke:l,strokeWidth:x,fill:"none",strokeDasharray:n,strokeDashoffset:u,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xl sm:text-2xl font-bold",style:{color:l},children:[a,"%"]})})]})},r=({data:a,size:l=200})=>{const o=a.reduce((b,n)=>b+n.value,0);let x=0;return e.jsxs("div",{className:"relative mx-auto",style:{width:l,height:l},children:[e.jsxs("svg",{width:l,height:l,className:"transform -rotate-90",children:[a.map((b,n)=>{const v=b.value/o*100/100*360,p=l/2-20,A=l/2+p*Math.cos(x*Math.PI/180),s=l/2+p*Math.sin(x*Math.PI/180),y=l/2+p*Math.cos((x+v)*Math.PI/180),_=l/2+p*Math.sin((x+v)*Math.PI/180),I=v>180?1:0,X=`M ${l/2} ${l/2} L ${A} ${s} A ${p} ${p} 0 ${I} 1 ${y} ${_} Z`;return x+=v,e.jsx("path",{d:X,fill:b.color,className:"transition-all duration-500 hover:opacity-80 cursor-pointer"},n)}),e.jsx("circle",{cx:l/2,cy:l/2,r:l/2-60,fill:"white"})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[e.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:o}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ"})]})]})};if(m)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})});const N=[{label:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",value:t?.pending||0,color:"#f59e0b"},{label:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©",value:t?.in_progress||0,color:"#8b5cf6"},{label:"ØªÙ… Ø§Ù„Ø­Ù„",value:t?.resolved||0,color:"#10b981"},{label:"Ù…Ø±ÙÙˆØ¶Ø©",value:t?.rejected||0,color:"#ef4444"}],j=(a,l)=>l>0?Math.round(a/l*100):0;return e.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2 flex items-center gap-2 sm:gap-3",children:[e.jsx(P,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"}),"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-indigo-100 text-indigo-600 rounded-xl",children:e.jsx(P,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ø²ÙˆØ§Ø± Ø§Ù„ÙŠÙˆÙ…"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.visits?.today||0}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ",t?.visits?.total||0]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-100 text-blue-600 rounded-xl",children:e.jsx($,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.users?.total||0})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-green-100 text-green-600 rounded-xl",children:e.jsx($,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.users?.citizens||0})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-xl",children:e.jsx($,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.users?.employees||0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl sm:rounded-3xl p-6 sm:p-8 border border-gray-200/50 shadow-2xl",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰"]}),e.jsx("div",{className:"flex items-center justify-center mb-4 sm:mb-6",children:e.jsx(r,{data:N,size:window.innerWidth<640?180:240})}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:N.map((a,l)=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full flex-shrink-0",style:{backgroundColor:a.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:a.label}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-800",children:a.value})]})]},l))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border-2 border-green-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(i,{percentage:t?.resolution_rate||0,color:"#10b981",size:window.innerWidth<640?100:140,strokeWidth:window.innerWidth<640?8:10}),e.jsxs("div",{className:"mt-3 sm:mt-4 text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[e.jsx(q,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"}),e.jsx("span",{className:"text-[10px] sm:text-xs text-green-600 font-semibold",children:"Ù…Ù…ØªØ§Ø²"})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border-2 border-yellow-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(i,{percentage:j(t?.pending,t?.total),color:"#f59e0b",size:window.innerWidth<640?100:140,strokeWidth:window.innerWidth<640?8:10}),e.jsxs("div",{className:"mt-3 sm:mt-4 text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[e.jsx(E,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-600"}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-yellow-600 font-semibold",children:[t?.pending||0," Ø´ÙƒÙˆÙ‰"]})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border-2 border-purple-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(i,{percentage:j(t?.in_progress,t?.total),color:"#8b5cf6",size:window.innerWidth<640?100:140,strokeWidth:window.innerWidth<640?8:10}),e.jsxs("div",{className:"mt-3 sm:mt-4 text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[e.jsx(R,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-600"}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-purple-600 font-semibold",children:[t?.in_progress||0," Ø´ÙƒÙˆÙ‰"]})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-2xl sm:rounded-3xl p-4 sm:p-6 border-2 border-red-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(i,{percentage:j(t?.rejected,t?.total),color:"#ef4444",size:window.innerWidth<640?100:140,strokeWidth:window.innerWidth<640?8:10}),e.jsxs("div",{className:"mt-3 sm:mt-4 text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Ù…Ø±ÙÙˆØ¶Ø©"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[e.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-600"}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-red-600 font-semibold",children:[t?.rejected||0," Ø´ÙƒÙˆÙ‰"]})]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white shadow-2xl transform hover:-translate-y-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx(k,{className:"w-10 h-10 sm:w-12 sm:h-12 opacity-80"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-blue-100 text-xs sm:text-sm font-medium",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰"}),e.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:t?.total||0})]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white shadow-2xl transform hover:-translate-y-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx(P,{className:"w-10 h-10 sm:w-12 sm:h-12 opacity-80"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-orange-100 text-xs sm:text-sm font-medium",children:"Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ù†Ø´Ø·Ø©"}),e.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:(t?.pending||0)+(t?.in_progress||0)})]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000",style:{width:`${((t?.pending||0)+(t?.in_progress||0))/(t?.total||1)*100}%`}})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white shadow-2xl transform hover:-translate-y-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx(M,{className:"w-10 h-10 sm:w-12 sm:h-12 opacity-80"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-green-100 text-xs sm:text-sm font-medium",children:"ØªÙ… Ø§Ù„Ø­Ù„"}),e.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:t?.resolved||0})]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000",style:{width:`${t?.resolution_rate||0}%`}})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-6 text-white shadow-2xl transform hover:-translate-y-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx(q,{className:"w-10 h-10 sm:w-12 sm:h-12 opacity-80"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-purple-100 text-xs sm:text-sm font-medium",children:"Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡"}),e.jsxs("p",{className:"text-3xl sm:text-4xl font-bold",children:[t?.resolution_rate||0,"%"]})]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000",style:{width:`${t?.resolution_rate||0}%`}})})]})]})]})},Ne=()=>e.jsx("div",{className:"animate-fade-in",children:e.jsx(ae,{})}),ve=()=>{const[t,f]=c.useState([]),[m,h]=c.useState(!0),[d,i]=c.useState({status:"",priority:"",search:"",category:""}),[r,N]=c.useState(""),j=()=>{i(s=>({...s,search:r}))},[a,l]=c.useState(null),[o,x]=c.useState({status:"",priority:""});c.useEffect(()=>{b()},[d]);const b=async()=>{try{h(!0);const s=await C.getAll(d);f(s.data.data.data)}catch{g.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰")}finally{h(!1)}},n=s=>{const y={pending:{text:"Ø¬Ø¯ÙŠØ¯Ø©",color:"bg-yellow-100 text-yellow-800",icon:E},in_review:{text:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",color:"bg-blue-100 text-blue-800",icon:D},in_progress:{text:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©",color:"bg-purple-100 text-purple-800",icon:R},resolved:{text:"ØªÙ… Ø§Ù„Ø­Ù„",color:"bg-green-100 text-green-800",icon:M},rejected:{text:"Ù…Ø±ÙÙˆØ¶Ø©",color:"bg-red-100 text-red-800",icon:V}};return y[s]||y.pending},u=s=>{const y={low:{text:"Ù…Ù†Ø®ÙØ¶Ø©",color:"text-gray-600",bg:"bg-gray-100"},medium:{text:"Ù…ØªÙˆØ³Ø·Ø©",color:"text-blue-600",bg:"bg-blue-100"},high:{text:"Ø¹Ø§Ù„ÙŠØ©",color:"text-orange-600",bg:"bg-orange-100"},urgent:{text:"Ø¹Ø§Ø¬Ù„Ø©",color:"text-red-600",bg:"bg-red-100"}};return y[s]||y.medium};if(m)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})});const v=async s=>{if(window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø´ÙƒÙˆÙ‰ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."))try{await C.delete(s),g.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø´ÙƒÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­"),b()}catch{g.error("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ø´ÙƒÙˆÙ‰")}},p=s=>{l(s),x({status:s.status,priority:s.priority})},A=async()=>{try{o.status!==a.status&&await C.updateStatus(a.id,{status:o.status}),o.priority!==a.priority&&await C.updatePriority(a.id,{priority:o.priority}),g.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙƒÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­"),l(null),b()}catch{g.error("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙƒÙˆÙ‰")}};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[e.jsx(k,{className:"w-8 h-8 text-blue-600"}),"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰"]}),e.jsx("p",{className:"text-gray-600",children:"Ø¹Ø±Ø¶ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-6 border border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"ØªØµÙÙŠØ© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:s=>N(s.target.value),onKeyDown:s=>s.key==="Enter"&&j(),placeholder:"Ø¨Ø­Ø«...",className:"w-full pr-10 pl-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all"})]}),e.jsx("button",{onClick:j,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-bold whitespace-nowrap",children:"Ø¨Ø­Ø«"})]}),e.jsxs("select",{value:d.status,onChange:s=>i({...d,status:s.target.value}),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª"}),e.jsx("option",{value:"pending",children:"Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsx("option",{value:"in_review",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),e.jsx("option",{value:"in_progress",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"}),e.jsx("option",{value:"resolved",children:"Ù…Ø­Ù„ÙˆÙ„Ø©"}),e.jsx("option",{value:"rejected",children:"Ù…Ø±ÙÙˆØ¶Ø©"})]}),e.jsxs("select",{value:d.priority,onChange:s=>i({...d,priority:s.target.value}),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"ÙƒÙ„ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª"}),e.jsx("option",{value:"low",children:"Ù…Ù†Ø®ÙØ¶Ø©"}),e.jsx("option",{value:"medium",children:"Ù…ØªÙˆØ³Ø·Ø©"}),e.jsx("option",{value:"high",children:"Ø¹Ø§Ù„ÙŠØ©"}),e.jsx("option",{value:"urgent",children:"Ø¹Ø§Ø¬Ù„Ø©"})]}),e.jsxs("select",{value:d.category,onChange:s=>i({...d,category:s.target.value}),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª"}),e.jsx("option",{value:"infrastructure",children:"Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©"}),e.jsx("option",{value:"public_services",children:"Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©"}),e.jsx("option",{value:"cleanliness",children:"Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©"}),e.jsx("option",{value:"security",children:"Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø©"}),e.jsx("option",{value:"health",children:"Ø§Ù„ØµØ­Ø©"}),e.jsx("option",{value:"education",children:"Ø§Ù„ØªØ¹Ù„ÙŠÙ…"}),e.jsx("option",{value:"other",children:"Ø£Ø®Ø±Ù‰"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl overflow-hidden border border-gray-200/50",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ (",t.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø±Ù‚Ù… Ø§Ù„Ø´ÙƒÙˆÙ‰"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ù…ÙˆØ§Ø·Ù†"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„ØªØ§Ø±ÙŠØ®"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"9",className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(k,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-semibold",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´ÙƒØ§ÙˆÙ‰"})]})}):t.map(s=>{const y=n(s.status),_=u(s.priority),I=y.icon;return e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-mono text-sm font-semibold text-blue-600",children:["#",s.tracking_number]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:s.description})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-800",children:s.citizen_name||s.user?.name||"Ù…ÙˆØ§Ø·Ù†"}),e.jsx("span",{className:"text-xs text-gray-500",children:s.citizen_phone||s.user?.phone||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù‚Ù…"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[e.jsx(oe,{className:"w-3 h-3"}),s.category?.name||s.category]})}),e.jsx("td",{className:"px-6 py-4",children:s.assignment?.assigned_to?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold",children:s.assignment.assigned_to.name.charAt(0)}),e.jsx("span",{className:"text-sm text-gray-700",children:s.assignment.assigned_to.name})]}),s.status==="resolved"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs w-fit mr-8",children:[e.jsx(M,{className:"w-3 h-3"}),"ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°"]})]}):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"ØºÙŠØ± Ù…Ø¹ÙŠÙ†"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold ${y.color}`,children:[e.jsx(I,{className:"w-4 h-4"}),y.text]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold ${_.color} ${_.bg}`,children:_.text})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(G,{className:"w-4 h-4"}),new Date(s.created_at).toLocaleDateString("ar-SY")]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{to:`/complaints/${s.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-300 hover:scale-110",title:"Ø¹Ø±Ø¶",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>p(s),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-110",title:"ØªØ¹Ø¯ÙŠÙ„",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-110",title:"Ø­Ø°Ù",children:e.jsx(re,{className:"w-5 h-5"})})]})})]},s.id)})})]})})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´ÙƒÙˆÙ‰ #",a.tracking_number]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsxs("select",{value:o.status,onChange:s=>x({...o,status:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[e.jsx("option",{value:"pending",children:"Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsx("option",{value:"in_review",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),e.jsx("option",{value:"in_progress",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"}),e.jsx("option",{value:"resolved",children:"Ù…Ø­Ù„ÙˆÙ„Ø©"}),e.jsx("option",{value:"rejected",children:"Ù…Ø±ÙÙˆØ¶Ø©"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©"}),e.jsxs("select",{value:o.priority,onChange:s=>x({...o,priority:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[e.jsx("option",{value:"low",children:"Ù…Ù†Ø®ÙØ¶Ø©"}),e.jsx("option",{value:"medium",children:"Ù…ØªÙˆØ³Ø·Ø©"}),e.jsx("option",{value:"high",children:"Ø¹Ø§Ù„ÙŠØ©"}),e.jsx("option",{value:"urgent",children:"Ø¹Ø§Ø¬Ù„Ø©"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/30",children:"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"})]})]})})]})},S=()=>{const[t,f]=c.useState([]),[m,h]=c.useState(!0),[d,i]=c.useState(""),[r,N]=c.useState(null),[j,a]=c.useState(!1);c.useEffect(()=>{l()},[d]);const l=async()=>{try{h(!0);const n=d?{status:d}:{},u=await L.getAll(n);f(u.data.data.data)}catch{g.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰")}finally{h(!1)}},o=async n=>{try{await L.startWork(n),g.success("ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙƒÙˆÙ‰"),l()}catch{g.error("ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„")}},x=async n=>{const u=prompt("Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):");try{await L.completeWork(n,{notes:u}),g.success("ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙƒÙˆÙ‰"),l()}catch{g.error("ÙØ´Ù„ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„")}},b=n=>{const u={pending:{text:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",color:"bg-yellow-100 text-yellow-800",icon:E},in_progress:{text:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©",color:"bg-blue-100 text-blue-800",icon:B},resolved:{text:"ØªÙ… Ø§Ù„Ø­Ù„",color:"bg-green-100 text-green-800",icon:M}};return u[n]||u.pending};return m?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}):e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[e.jsx(k,{className:"w-8 h-8 text-blue-600"}),"Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ù…Ø¹ÙŠÙ†Ø© Ù„ÙŠ"]}),e.jsx("p",{className:"text-gray-600",children:"Ø¥Ø¯Ø§Ø±Ø© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ù…ÙƒÙ„Ù Ø¨Ù‡Ø§"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-6 border border-gray-200/50",children:e.jsxs("select",{value:d,onChange:n=>i(n.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª"}),e.jsx("option",{value:"pending",children:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx("option",{value:"working",children:"Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„"}),e.jsx("option",{value:"completed",children:"Ù…ÙƒØªÙ…Ù„Ø©"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl overflow-hidden border border-gray-200/50",children:t.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(k,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-semibold text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´ÙƒØ§ÙˆÙ‰ Ù…Ø¹ÙŠÙ†Ø© Ù„Ùƒ"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø±Ù‚Ù… Ø§Ù„ØªØªØ¨Ø¹"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(n=>{const u=b(n.status),v=u.icon,p=n.assignment?.status||"pending";return e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono text-sm text-gray-600",children:n.tracking_number})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-semibold text-gray-800",children:n.title})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-gray-600",children:n.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold ${u.color}`,children:[e.jsx(v,{className:"w-4 h-4"}),u.text]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold ${p==="pending"?"bg-yellow-100 text-yellow-800":p==="working"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:p==="pending"?"â³ Ø¬Ø¯ÙŠØ¯":p==="working"?"ğŸ”§ Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„":"âœ… Ù…ÙƒØªÙ…Ù„"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{N(n),a(!0)},className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all text-sm font-semibold",children:[e.jsx(D,{className:"w-4 h-4"}),"Ø§Ù„ØªÙØ§ØµÙŠÙ„"]}),p==="pending"&&e.jsxs("button",{onClick:()=>o(n.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all text-sm font-semibold",children:[e.jsx(B,{className:"w-4 h-4"}),"Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„"]}),p==="working"&&e.jsxs("button",{onClick:()=>x(n.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all text-sm font-semibold",children:[e.jsx(je,{className:"w-4 h-4"}),"Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„"]})]})})]},n.id)})})]})})}),j&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙƒÙˆÙ‰"}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(H,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ø±Ù‚Ù… Ø§Ù„ØªØªØ¨Ø¹"}),e.jsx("p",{className:"text-lg font-mono text-blue-600",children:r.tracking_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ø§Ù„ÙˆØµÙ"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-xl",children:r.description})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-red-600"}),"Ø§Ù„Ù…ÙˆÙ‚Ø¹"]}),e.jsx("p",{className:"text-gray-700 mb-2",children:r.location_address}),r.latitude&&r.longitude&&e.jsxs("a",{href:`https://www.google.com/maps?q=${r.latitude},${r.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all text-sm font-semibold",children:[e.jsx(T,{className:"w-4 h-4"}),"ÙØªØ­ ÙÙŠ Ø®Ø±Ø§Ø¦Ø· Google"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsx("p",{className:"text-gray-700",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ø§Ù„Ù…Ù†Ø·Ù‚Ø©"}),e.jsx("p",{className:"text-gray-700",children:r.area||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"})]})]}),r.images&&r.images.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2 mb-3",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-600"}),"Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø±ÙÙ‚Ø© (",r.images.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.images.map((n,u)=>e.jsx("img",{src:`http://localhost:8000/storage/${n.image_path}`,alt:`ØµÙˆØ±Ø© ${u+1}`,className:"w-full h-48 object-cover rounded-xl border-2 border-gray-200"},u))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-gray-600"}),"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…"]}),e.jsx("p",{className:"text-gray-700",children:new Date(r.created_at).toLocaleString("ar-SY")})]}),r.assignment?.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ØªØ¹ÙŠÙŠÙ†"}),e.jsx("p",{className:"text-gray-700 bg-blue-50 p-4 rounded-xl",children:r.assignment.notes})]})]})]})})]})},we=()=>{const{user:t}=W(),[f,m]=c.useState(!1),[h,d]=c.useState({name:t?.name||"",email:t?.email||"",phone:t?.phone||""}),[i,r]=c.useState({current_password:"",new_password:"",new_password_confirmation:""}),N=async a=>{a.preventDefault();try{m(!0),await U.update(h),g.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ù†Ø¬Ø§Ø­")}catch(l){g.error(l.response?.data?.message||"ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª")}finally{m(!1)}},j=async a=>{if(a.preventDefault(),i.new_password!==i.new_password_confirmation){g.error("ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©");return}try{m(!0),await U.updatePassword(i),g.success("ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­"),r({current_password:"",new_password:"",new_password_confirmation:""})}catch(l){g.error(l.response?.data?.message||"ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±")}finally{m(!1)}};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[e.jsx(K,{className:"w-8 h-8 text-blue-600"}),"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"]}),e.jsx("p",{className:"text-gray-600",children:"Ø¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ùƒ ÙˆØªÙØ¶ÙŠÙ„Ø§ØªÙƒ"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-8 border border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(se,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"}),e.jsx("input",{type:"text",value:h.name,onChange:a=>d({...h,name:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx("input",{type:"email",value:h.email,onChange:a=>d({...h,email:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("input",{type:"tel",value:h.phone,onChange:a=>d({...h,phone:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all"})]}),e.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 font-bold disabled:opacity-50",children:[e.jsx(de,{className:"w-5 h-5"}),"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-8 border border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(F,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsx("input",{type:"password",value:i.current_password,onChange:a=>r({...i,current_password:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsx("input",{type:"password",value:i.new_password,onChange:a=>r({...i,new_password:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",required:!0,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"}),e.jsx("input",{type:"password",value:i.new_password_confirmation,onChange:a=>r({...i,new_password_confirmation:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all",required:!0,minLength:6})]}),e.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 font-bold disabled:opacity-50",children:[e.jsx(F,{className:"w-5 h-5"}),"ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-8 border border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(te,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})},qe=()=>{const{user:t}=W(),[f,m]=c.useState(t?.role==="admin"?"statistics":"complaints"),h=()=>{switch(f){case"statistics":return t?.role==="admin"?e.jsx(Y,{}):e.jsx(S,{});case"users":return t?.role==="admin"?e.jsx(Ne,{}):e.jsx(S,{});case"complaints":return t?.role==="admin"?e.jsx(ve,{}):e.jsx(S,{});case"settings":return e.jsx(we,{});default:return t?.role==="admin"?e.jsx(Y,{}):e.jsx(S,{})}};return e.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[e.jsx(ye,{activeSection:f,setActiveSection:m}),e.jsx("div",{className:"flex-1 lg:mr-80 p-4 sm:p-6 lg:p-8 w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:h()})}),e.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})};export{qe as default};
